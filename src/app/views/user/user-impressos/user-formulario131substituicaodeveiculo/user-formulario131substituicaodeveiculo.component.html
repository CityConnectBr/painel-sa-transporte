<div class="crud">

  <app-permissionario-table title="Substituição de Veículo"
    (selecionarEvent)="selecionarPermissionarioByEvent($event)"></app-permissionario-table>

  <ng-template #visualizarVeiculos let-modal>
    <app-modal modalID="visualizarVeiculos" title="Veículos" (closeModalEmit)="closeModal($event)">
      <div class="clearfix">
        <h6>{{veiculoId?'Seleção do veículo substituto':'Seleção do veículo a ser substituído'}}</h6>
        <table *ngIf="dataSearchVeiculo.data.length>0" class="table table-striped">
          <thead>
            <tr>
              <th>Placa</th>
              <th>Marca/Modelo</th>
              <th>Cor</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let obj of dataSearchVeiculo.data">
              <td>{{obj?.placa}}</td>
              <td>{{obj?.marca_modelo_veiculo.descricao}}</td>
              <td>{{obj?.cor.descricao}}</td>
              <td>{{obj.ativo?'Ativo':'Inativo'}}</td>
              <td class="text-right">
                <a *ngIf="!veiculoId" href="javascript: void(0);" (click)="selecionarVeiculo(obj.id);"
                  title="Selecionar"><i class="fa fa-arrow-right" aria-hidden="true"></i></a>
                <a *ngIf="veiculoId" href="javascript: void(0);" (click)="selecionarVeiculoSubstituto(obj.id);"
                  title="Selecionar"><i class="fa fa-arrow-right" aria-hidden="true"></i></a>
              </td>
            </tr>
          </tbody>
        </table>
        <button (click)="closeModal($event)" class="btn btn-secondary btn-sm pull-right">Cancelar</button>
      </div>
    </app-modal>
  </ng-template>

</div>
